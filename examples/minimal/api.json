{
	"package": "generated",
	"imports": {
		"custom":    "github.com/xdrm-io/aicra/examples/minimal/validator",
		"model":     "github.com/xdrm-io/aicra/examples/minimal/model"
	},
	"validators": {
		"string": { "use": "builtin.String", "as": "string"       },
		"uuid":   { "use": "custom.UUID",    "as": "string"       },
		"users":  { "use": "custom.Users",   "as": "[]model.User" }
	},

	"endpoints": [
		{
			"name": "GetUsers",
			"method": "GET",
			"path": "/user",
			"scope": [],
			"info": "fetches all users",
			"in": {},
			"out": {
				"users": { "info": "list of users", "type": "users", "name": "Users" }
			}
		},
		{
			"name": "CreateUser",
			"method": "POST",
			"path": "/user",
			"scope": [["admin"]],
			"info": "creates a new user",
			"in": {
				"username":  { "info": "new username",    "type": "string(1,30)", "name": "Username"  },
				"firstname": { "info": "new firstname",   "type": "string(1,30)", "name": "Firstname" },
				"lastname":  { "info": "new lastname",    "type": "string(1,30)", "name": "Lastname"  }
			},
			"out": {
				"id":        { "info": "new user id",   "type": "uuid",   "name": "ID"        },
				"username":  { "info": "new username",  "type": "string", "name": "Username"  },
				"firstname": { "info": "new firstname", "type": "string", "name": "Firstname" },
				"lastname":  { "info": "new lastname",  "type": "string", "name": "Lastname"  }
			}
		},
		{
			"name": "UpdateUser",
			"method": "PUT",
			"path": "/user/{id}",
			"scope": [ ["admin"], ["user[ID]"] ],
			"info": "updates user information",
			"in": {
				"{id}":      { "info": "id of the user to update", "type": "uuid",    "name": "ID"        },
				"username":  { "info": "optional new username",    "type": "?string", "name": "Username"  },
				"firstname": { "info": "optional new firstname",   "type": "?string", "name": "Firstname" },
				"lastname":  { "info": "optional new lastname",    "type": "?string", "name": "Lastname"  }
			},
			"out": {
				"id":        { "info": "new user id",   "type": "uuid",   "name": "ID"        },
				"username":  { "info": "new username",  "type": "string", "name": "Username"  },
				"firstname": { "info": "new firstname", "type": "string", "name": "Firstname" },
				"lastname":  { "info": "new lastname",  "type": "string", "name": "Lastname"  }
			}
		},
		{
			"name": "DeleteUser",
			"method": "DELETE",
			"path": "/user/{id}",
			"scope": [ ["admin"], ["user[ID]"] ],
			"info": "deletes an existing user",
			"in": {
				"{id}": { "info": "id of the user to remove", "type": "uuid", "name": "ID" }
			},
			"out": {}
		}
	]
}